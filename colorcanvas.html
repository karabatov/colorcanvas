<body>
    <table style="border:1px solid #000000;">
    <tr>
        <td>Displayed color</td>
        <td id="displayed-color-hex">#.......</td>
        <td id="displayed-color-bucket"></td>
        <td></td>
    </tr>
    <tr>
        <td>Named color</td>
        <td id="named-color-hex">#.......</td>
        <td id="named-color-bucket" style="width:60pt"></td>
        <td id="named-color-name">NAME</td>
    </tr>
    </table>
    <canvas id="palette" width="800" height="600" style="border:1px solid #000000;"></canvas>
    <br /><button onlick="redrawCanvas()">Redraw</button><br />
    <textarea id="color-names" rows=20 cols=50></textarea>

    <script language="javascript">
        function redrawCanvas() {
            var c = document.getElementById("palette");
            var ctx = c.getContext("2d");

            // First, clear canvas.
            ctx.clearRect(0, 0, c.width, c.height);
        }

        function getMousePosition(canvas, evt) {
            var rect = canvas.getBoundingClientRect();
            return {
                x: Math.round(evt.clientX - rect.left),
                y: Math.round(evt.clientY - rect.top)
            }
        }

        var canvas = document.getElementById("palette");
        var context = canvas.getContext("2d");

        canvas.addEventListener("mousemove", function(evt) {
            var mousePos = getMousePosition(canvas, evt);
            console.log(mousePos.x + ", " + mousePos.y);
        }, false);

        redrawCanvas();
    </script>
</body>
